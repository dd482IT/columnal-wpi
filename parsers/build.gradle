/*plugins {
    id 'antlr'
}
*/
apply plugin: 'java-library'
apply plugin: 'antlr'


sourceCompatibility = 11
targetCompatibility = 11

repositories() {
    mavenCentral()
}

checkerFramework {
    checkers = [
    ]
    extraJavacArgs = [
    ]
}

dependencies {
    antlr libs.antlr.exec
    implementation libs.antlr
    //antlr 'org.antlr:antlr4:4.7.1'
    //implementation 'org.antlr:antlr4-runtime:4.7.1'
}

generateGrammarSource {
    arguments += ['-visitor', '-package', 'records.grammar', '-Werror', '-no-listener']
    outputDirectory = new File(buildDir.toString() + "/generated/sources/antlr/main/records/grammar/")
}

sourceSets {
    main {
        java {
            srcDir "${buildDir}/generated/sources/antlr/main"
            srcDir "src/main/java"
        }
    }
}

description = 'parsers'
